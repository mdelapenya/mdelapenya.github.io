---
title: "Effortless Self-Signed TLS Certificates in Go with tlscert"
date: 2025-09-02 10:00:00 +0530
image: "/images/posts/2025-09-02-tlscert/cover.png"
description: "Generate self-signed TLS certificates in Go with ease using tlscert, a lightweight package for secure local development and testing."
categories: [Go, Security, OSS]
tags: ["go", "tls", "security", "certificate", "testing", "open-source"]
type: post
weight: 26
showTableOfContents: true
---

> _‚ÄúEver struggled with wiring up self-signed TLS certs for your Go tests and dev servers? tlscert solves that with a clean API‚Äîno TLS boilerplate, just a few lines of code.‚Äù_

## Why tlscert?

When working on Go projects, especially during **local development** or **integration testing**, it‚Äôs common to need self-signed certificates.  
Unfortunately, generating them usually means dealing with complex crypto APIs or copy-pasting boilerplate code.

That‚Äôs where [**tlscert**](https://github.com/mdelapenya/tlscert) comes in.  
It‚Äôs a lightweight Go package that lets you generate self-signed certificates with minimal effort‚Äîperfect for:

- Local HTTPS servers  
- Secure integration tests  
- Client-server TLS experiments  

‚ö†Ô∏è **Note:** `tlscert` is designed for **testing and local dev only**, not for  production use.

## Features at a Glance

- Generate certificates in one line:
  - `SelfSigned("localhost")`
  - `SelfSignedCA("myca")`
- Create fully customized certs with the `Request` struct:
  - Set hostnames
  - Choose validity duration
  - Chain certificates with a parent CA
  - Save certs to disk
- Use `Certificate.TLSConfig()` to configure servers
- Use `Certificate.Transport()` for HTTPS clients  
- Two flavors of functions:
  - **Simple** (return `nil` certificate on errors)
  - **E versions** (return `error` for safer handling)

## Quick Example

Here‚Äôs a complete example: generate a CA, create a client certificate signed by it, start an HTTPS server, and make a request.

```go
package main

import (
    "fmt"
    "io"
    "log"
    "net/http"
    "os"

    "github.com/mdelapenya/tlscert"
)

func main() {
    // Setup certs directory
    tmp := os.TempDir()
    certsDir := tmp + "/certs"
    os.MkdirAll(certsDir, 0o755)
    defer os.RemoveAll(certsDir)

    // Generate a CA certificate
    caCert, err := tlscert.SelfSignedFromRequestE(tlscert.Request{
		Host:      "localhost",
		Name:      "ca-cert",
		ParentDir: certsDir,
	})
	if err != nil {
		log.Fatalf("Failed to generate CA certificate: %v", err)
	}

    // Generate a client cert signed by the CA
    cert, err := tlscert.SelfSignedFromRequestE(tlscert.Request{
		Host:      "localhost",
		Name:      "client-cert",
		Parent:    caCert,
		ParentDir: certsDir,
	})
	if err != nil {
		log.Fatalf("Failed to generate certificate: %v", err)
	}

    // Start HTTPS server
    server := &http.Server{
        Addr:    ":8443",
        Handler: http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
            w.Write([]byte("Hello, TLS!"))
        }),
    }
    go server.ListenAndServeTLS(cert.CertPath, cert.KeyPath)
    defer server.Close()

    // HTTPS client using generated cert
    client := &http.Client{Transport: cert.Transport()}
    resp, err := client.Get("https://localhost:8443")
    if err != nil {
        log.Fatalf("Failed to get response: %v", err)
    }
    defer resp.Body.Close()

    body, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatalf("Failed to read response body: %v", err)
	}

    // It should print "Hello, TLS!"
	fmt.Println(string(body))
}
```

That‚Äôs it‚Äîyou‚Äôve got a secure client-server setup with zero hassle.

## Why Choose tlscert?

‚ö° Developer-friendly: hide crypto boilerplate, keep code clean.

üîí Safer tests: ensure TLS communication works without trusting random certs, or hardcoding certs that will break in the future.

üìú MIT-licensed: adopting the library is easy and safe from legal issues.

## Getting Started

Install the package:

```bash
go get github.com/mdelapenya/tlscert
```

Import and generate your first certificate:

```go
cert := tlscert.SelfSigned("localhost")
cert, err := tlscert.SelfSignedE("localhost")
```

Plug it into your tests for your Go server or HTTP client with ease.

## Wrap-Up

`tlscert` streamlines what‚Äôs usually a painful task, so you can focus on building features, not having to worry about crypto.

üëâ Try it today: [github.com/mdelapenya/tlscert](https://github.com/mdelapenya/tlscert)

‚≠ê Star the repo if you find it useful, and feel free to [open issues](https://github.com/mdelapenya/tlscert/issues) or PRs with improvements!
